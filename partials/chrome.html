
<!-- Warning Banner -->
<div style="text-align:center; background:#222; color:#ccc; padding:8px; border-bottom: var(--border);">
⚠️ This sheet autosaves character data to your browser. Use Export to back up your character.
</div>

<!-- Header -->
<h1>Joz's Homebrew DND Sheet 
  <span style="font-size:0.8rem; color:#aaa; margin-left:10px;">[Autosaves Locally]</span>
</h1>

<!-- Data Controls -->
<div style="display: flex; justify-content: center; align-items: center; gap: 16px; margin: 10px auto; width: 100%;">

  <!-- Home Button -->
  <button onclick="
    document.getElementById('home').classList.add('active');
    document.querySelectorAll('.page').forEach(p => { if(p.id !== 'home') p.classList.remove('active'); });
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  " class="accent-contrast-bg" style="background: var(--accent); width: 200px;" title="Home">Home</button>

  <!-- Reset Layout -->
  <button id="resetLayoutBtn" class="accent-contrast-bg" style="background: var(--accent); width: 200px;">Reset Layout</button>

  <!-- Save Layout -->
  <button id="saveLayoutBtn" class="accent-contrast-bg" style="background: var(--accent); width: 200px;">Save Layout</button>

  <!-- Save Data -->
  <button id="saveDataBtn" onclick="manualSave();" class="accent-contrast-bg" style="background: var(--accent); width: 200px;">Save Data</button>

  <!-- Settings Dropdown -->
  <div style="position: relative; display: inline-block;">
    <button id="settingsBtn" class="accent-contrast-bg" style="background: var(--accent); width: 200px;" title="Settings">Settings</button>
    <div id="settingsDropdown" style="display: none; position: absolute; right: 0; border-radius: 6px; z-index: 1000;">
      
      <!-- Theme Toggle -->
      <div class="settings-section">
        <div class="theme-toggle-container">
          <span class="theme-label">Dark</span>
          <label class="switch">
            <input type="checkbox" id="themeToggle" onchange="toggleTheme()">
            <span class="slider round"></span>
          </label>
          <span class="theme-label">Light</span>
        </div>
      </div>

      <!-- Accent Color -->
      <div class="settings-section">
        <label style="display: block; margin-bottom: 5px;">Accent Color:</label>
        <input type="color" id="accentColor" class="accent-input" onchange="updateAccentColor(this.value)" value="#ffd700" style="width: 100%; height: 30px; padding: 0; border-radius: 4px;">
      </div>

      <!-- Cloud Sync -->
      <div class="settings-section">
        <div id="cloudSyncSection">
          <div id="signedOutView">
            <button id="signInBtn" onclick="signInWithGoogle()" disabled style="width: 100%; margin-bottom: 5px; background: #4285f4; color: white;">Sign In with Google</button>
            <p style="font-size: 0.8rem; color: var(--text-light); margin: 5px 0;">Sign in to sync characters across devices</p>
          </div>
          <div id="signedInView" style="display: none;">
            <p style="font-size: 0.8rem; color: var(--text-light); margin: 5px 0;">Signed in as: <span id="userEmail"></span></p>
            <button onclick="syncToCloud()" style="width: 100%; margin-bottom: 5px; background: #34a853; color: white;">Upload to Cloud</button>
            <button onclick="syncFromCloud()" style="width: 100%; margin-bottom: 5px; background: #ea4335; color: white;">Download from Cloud</button>
            <button onclick="signOut()" style="width: 100%; margin-bottom: 5px; background: #666; color: white;">Sign Out</button>
            <p id="syncStatus" style="font-size: 0.7rem; color: var(--text-light); margin: 2px 0;"></p>
          </div>
        </div>
      </div>

      <!-- Export / Import -->
      <div class="settings-section">
        <button onclick="exportData()" class="accent-contrast-bg" style="width: 100%; margin-bottom: 5px; background: var(--accent); font-weight: bold;">Export Character</button>
        <label class="import-label accent-contrast-bg" style="width: 100%; display: block; cursor: pointer; text-align: center; background: var(--accent); padding: 5px; border-radius: 4px; font-weight: bold;">
          Import Character
          <input onchange="importData(event)" style="display: none;" type="file"/>
        </label>
      </div>

    </div>
  </div>

</div>

<!-- Tabs -->
<div class="tabs">
  <button class="tab active" data-tab="page1" onclick="switchTab(this)">Stats</button>
  <button class="tab" data-tab="page2" onclick="switchTab(this)">Background</button>
  <button class="tab" data-tab="page3" onclick="switchTab(this)">Spells</button>
  <button class="tab" data-tab="page4" onclick="switchTab(this)">Inventory</button>
  <button class="tab" data-tab="page6" onclick="switchTab(this)">Notes</button>
</div>


